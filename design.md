# Markdownæ–‡æ¡£Embeddingå¢å¼ºé¡¹ç›®è®¾è®¡æ–‡æ¡£

## é¡¹ç›®æ¦‚è¿°

### ç›®çš„
é€šè¿‡æœ¬é¡¹ç›®ï¼Œå¯¹æŒ‡å®šæ–‡ä»¶ç›®å½• `Embeddingå¢å¼ºé¡¹ç›®/To_be_processed` çš„Markdownæ–‡æ¡£è¿›è¡Œæ™ºèƒ½é¢„å¤„ç†ï¼Œä¾¿äºåç»­çš„Embeddingæ•ˆæœå¢å¼ºã€‚é¡¹ç›®é‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼Œæ”¯æŒå¤šç§chunkç­–ç•¥ã€æ™ºèƒ½å…³é”®è¯æå–ã€è´¨é‡è¯„ä¼°å’Œå‰ç«¯å¯è§†åŒ–æ“ä½œï¼Œæ˜¾è‘—æå‡RAGç³»ç»Ÿçš„æ£€ç´¢æ•ˆæœå’Œç”¨æˆ·ä½“éªŒã€‚

### æ ¸å¿ƒä»·å€¼
- **æ™ºèƒ½åˆ†å—**ï¼šåŸºäºè¯­ä¹‰å’Œç»“æ„çš„å¤šç­–ç•¥chunkåˆ†å‰²
- **å…³é”®è¯å¢å¼º**ï¼šåŒ»å­¦ä¸“ä¸šæœ¯è¯­æå–å’ŒåŒä¹‰è¯æ‰©å±•
- **è´¨é‡ä¿è¯**ï¼šå…¨é¢çš„chunkè´¨é‡è¯„ä¼°å’Œä¼˜åŒ–å»ºè®®
- **ç”¨æˆ·å‹å¥½**ï¼šç›´è§‚çš„Webç•Œé¢å’Œå‘½ä»¤è¡Œå·¥å…·
- **é«˜æ€§èƒ½**ï¼šæœ¬åœ°åŒ–ä¼˜å…ˆï¼ŒLLMå¤‡ç”¨çš„æ··åˆå¤„ç†æ¨¡å¼

## ç³»ç»Ÿæ¶æ„

### æ•´ä½“æ¶æ„å›¾
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å‰ç«¯ç•Œé¢      â”‚    â”‚   æ ¸å¿ƒå¤„ç†      â”‚    â”‚   è¾“å‡ºè¯„ä¼°      â”‚
â”‚  Web UI/CLI     â”‚â”€â”€â”€â–¶â”‚  æ–‡æ¡£é¢„å¤„ç†     â”‚â”€â”€â”€â–¶â”‚  è´¨é‡è¯„ä¼°       â”‚
â”‚                 â”‚    â”‚  å…³é”®è¯æå–     â”‚    â”‚  ç»“æœè¾“å‡º       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â–¼                       â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   é…ç½®ç®¡ç†      â”‚    â”‚   çŸ¥è¯†åº“        â”‚    â”‚   æ—¥å¿—ç›‘æ§      â”‚
â”‚  config.json    â”‚    â”‚  åŒ»å­¦æœ¯è¯­åº“     â”‚    â”‚  é”™è¯¯å¤„ç†       â”‚
â”‚  å‚æ•°è®¾ç½®       â”‚    â”‚  åŒä¹‰è¯æ‰©å±•     â”‚    â”‚  æ€§èƒ½ç›‘æ§       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ¨¡å—ä¾èµ–å…³ç³»
```
main_app.py (ä¸»å…¥å£)
â”œâ”€â”€ web_interface.py (Webç•Œé¢)
â”œâ”€â”€ cli_interface.py (å‘½ä»¤è¡Œç•Œé¢)
â”œâ”€â”€ document_processor.py (æ–‡æ¡£å¤„ç†æ ¸å¿ƒ)
â”‚   â”œâ”€â”€ chunk_strategies.py (åˆ†å—ç­–ç•¥)
â”‚   â”œâ”€â”€ keyword_extractor.py (å…³é”®è¯æå–)
â”‚   â””â”€â”€ medical_knowledge_base.py (åŒ»å­¦çŸ¥è¯†åº“)
â”œâ”€â”€ quality_evaluator.py (è´¨é‡è¯„ä¼°)
â”œâ”€â”€ config_manager.py (é…ç½®ç®¡ç†)
â””â”€â”€ utils/
    â”œâ”€â”€ logger.py (æ—¥å¿—ç³»ç»Ÿ)
    â”œâ”€â”€ error_handler.py (é”™è¯¯å¤„ç†)
    â””â”€â”€ performance_monitor.py (æ€§èƒ½ç›‘æ§)
```

## åŠŸèƒ½æ¨¡å—è®¾è®¡

### 1. æ–‡æ¡£åˆ†å—ç­–ç•¥ (å·²å®ç° âœ…)

#### 1.1 åŸºäºTokenæ•°é‡çš„åˆ†å—
- **é…ç½®å‚æ•°**ï¼š512, 1024, 2048ç­‰tokenæ•°é‡
- **é€‚é…æ¨¡å‹**ï¼šä¸åŒembeddingæ¨¡å‹çš„åˆ‡ç‰‡èƒ½åŠ›è¦æ±‚
- **æ™ºèƒ½è¾¹ç•Œ**ï¼šé¿å…åœ¨å¥å­ä¸­é—´åˆ‡åˆ†
- **é‡å ç­–ç•¥**ï¼šå¯é…ç½®çš„chunké‡å æ¯”ä¾‹

#### 1.2 åŸºäºè¯­ä¹‰æ®µè½çš„åˆ†å—
- **ç»“æ„è¯†åˆ«**ï¼šåŸºäºMarkdownæ ‡é¢˜å±‚çº§çš„æ™ºèƒ½åˆ†å—
- **ä¸­æ–‡åºå·å¤„ç†**ï¼šä¿æŒä¸€çº§åºå·ä¸å­åºå·åœ¨åŒä¸€chunkä¸­
- **æ³¨é‡Šåˆå¹¶**ï¼šè‡ªåŠ¨åˆå¹¶æ³¨é‡Šå†…å®¹åˆ°ç›¸å…³æ­£æ–‡å—
- **è¾¹ç•Œæ ‡è®°**ï¼šæ·»åŠ  `[CHUNK_BOUNDARY]` æ ‡è®°ä¾¿äºåç»­å¤„ç†

#### 1.3 æ··åˆåˆ†å—ç­–ç•¥ (å¾…å®ç° ğŸ”„)
- **è‡ªé€‚åº”åˆ†å—**ï¼šæ ¹æ®å†…å®¹ç±»å‹è‡ªåŠ¨é€‰æ‹©æœ€ä¼˜ç­–ç•¥
- **è´¨é‡åé¦ˆ**ï¼šåŸºäºè¯„ä¼°ç»“æœåŠ¨æ€è°ƒæ•´åˆ†å—å‚æ•°
- **ä¸Šä¸‹æ–‡ä¿æŒ**ï¼šç¡®ä¿é‡è¦ä¸Šä¸‹æ–‡ä¿¡æ¯ä¸è¢«åˆ‡æ–­

### 2. å…³é”®è¯æå–ä¸å¢å¼º (å·²å®ç° âœ…)

#### 2.1 æœ¬åœ°åŒ–å¤„ç†ï¼ˆä¼˜å…ˆçº§é«˜ï¼‰
- **æ­£åˆ™è¡¨è¾¾å¼**ï¼šåŒ»å­¦æœ¯è¯­æ¨¡å¼åŒ¹é…
- **è¯é¢‘åˆ†æ**ï¼šTF-IDFç®—æ³•æå–é‡è¦è¯æ±‡
- **åŒ»å­¦è¯å…¸**ï¼šä¸“ä¸šæœ¯è¯­åº“åŒ¹é…å’Œæ ‡å‡†åŒ–
- **åŒä¹‰è¯æ‰©å±•**ï¼šåŸºäºåŒ»å­¦çŸ¥è¯†åº“çš„æœ¯è¯­æ‰©å±•

#### 2.2 LLMå¤„ç†ï¼ˆå¤‡ç”¨æ–¹æ¡ˆï¼‰
- **å¤šæ¨¡å‹æ”¯æŒ**ï¼šGLM4.5ã€DeepSeekã€OpenAIç­‰
- **æ™ºèƒ½æç¤º**ï¼šé’ˆå¯¹åŒ»å­¦æ–‡æ¡£ä¼˜åŒ–çš„promptæ¨¡æ¿
- **è´¨é‡æ§åˆ¶**ï¼šç»“æœéªŒè¯å’Œè¿‡æ»¤æœºåˆ¶
- **æˆæœ¬æ§åˆ¶**ï¼šæ™ºèƒ½é™çº§åˆ°æœ¬åœ°å¤„ç†

#### 2.3 å…³é”®è¯å¢å¼ºæ•ˆæœ
- **è¯­ä¹‰åŒ¹é…åº¦æå‡**ï¼šå…³é”®è¯æä¾›é¢å¤–è¯­ä¹‰ä¿¡å·
- **å¬å›ç‡æå‡**ï¼šåŒä¹‰è¯æ‰©å±•è¦†ç›–æ›´å¤šæŸ¥è¯¢å˜ä½“
- **ä¸Šä¸‹æ–‡ç†è§£**ï¼šåŒ»å­¦æœ¯è¯­æ ‡å‡†åŒ–æé«˜ç†è§£å‡†ç¡®æ€§

### 3. è´¨é‡è¯„ä¼°ç³»ç»Ÿ (å·²å®ç° âœ…)

#### 3.1 Chunkè´¨é‡æŒ‡æ ‡
- **å¤§å°åˆ†å¸ƒåˆ†æ**ï¼šç»Ÿè®¡å„sizeåŒºé—´çš„chunkæ•°é‡
- **è¯­ä¹‰å®Œæ•´æ€§è¯„åˆ†**ï¼šè¯„ä¼°chunkçš„è¯­ä¹‰è¿è´¯æ€§
- **æ ¼å¼æ­£ç¡®æ€§è¯„åˆ†**ï¼šæ£€æŸ¥Markdownæ ¼å¼è§„èŒƒæ€§
- **å…³é”®è¯è¦†ç›–ç‡**ï¼šè¯„ä¼°å…³é”®è¯æå–çš„å®Œæ•´æ€§

#### 3.2 ä¼˜åŒ–å»ºè®®ç”Ÿæˆ
- **è‡ªåŠ¨å»ºè®®**ï¼šåŸºäºè¯„ä¼°ç»“æœç”Ÿæˆä¼˜åŒ–å»ºè®®
- **å‚æ•°è°ƒä¼˜**ï¼šæ¨èæœ€ä¼˜çš„åˆ†å—å‚æ•°è®¾ç½®
- **è´¨é‡æŠ¥å‘Š**ï¼šç”Ÿæˆè¯¦ç»†çš„è´¨é‡åˆ†ææŠ¥å‘Š

### 4. ç”¨æˆ·äº¤äº’ç•Œé¢

#### 4.1 Webç•Œé¢ (å¾…å®ç° ğŸ”„)
- **ç›´è§‚é…ç½®**ï¼šå¯è§†åŒ–çš„å‚æ•°è®¾ç½®ç•Œé¢
- **å®æ—¶é¢„è§ˆ**ï¼šchunkåˆ†å‰²æ•ˆæœå®æ—¶é¢„è§ˆ
- **æ‰¹é‡å¤„ç†**ï¼šæ”¯æŒå¤šæ–‡ä»¶æ‰¹é‡å¤„ç†
- **è¿›åº¦ç›‘æ§**ï¼šå®æ—¶æ˜¾ç¤ºå¤„ç†è¿›åº¦å’ŒçŠ¶æ€
- **ç»“æœå±•ç¤º**ï¼šå¯è§†åŒ–çš„è´¨é‡è¯„ä¼°æŠ¥å‘Š

#### 4.2 å‘½ä»¤è¡Œç•Œé¢ (éƒ¨åˆ†å®ç° ğŸ”„)
- **èœå•äº¤äº’**ï¼šå‹å¥½çš„å‘½ä»¤è¡Œèœå•ç³»ç»Ÿ
- **å‚æ•°é…ç½®**ï¼šæ”¯æŒå‘½ä»¤è¡Œå‚æ•°å’Œé…ç½®æ–‡ä»¶
- **æ‰¹å¤„ç†æ¨¡å¼**ï¼šæ”¯æŒè„šæœ¬åŒ–æ‰¹é‡å¤„ç†
- **è¯¦ç»†æ—¥å¿—**ï¼šå®Œæ•´çš„å¤„ç†æ—¥å¿—è¾“å‡º

#### 4.3 è„šæœ¬åŒ–å¤„ç†å¢å¼º (æ–°å¢ ğŸ†•)
- **æ‰¹å¤„ç†è„šæœ¬**ï¼šæ”¯æŒShell/Batchè„šæœ¬è‡ªåŠ¨åŒ–å¤„ç†
- **ä»»åŠ¡è°ƒåº¦**ï¼šåŸºäºcronçš„å®šæ—¶ä»»åŠ¡æ‰§è¡Œ
- **æµæ°´çº¿å¤„ç†**ï¼šå¤šæ­¥éª¤å¤„ç†æµæ°´çº¿é…ç½®
- **æ¡ä»¶æ‰§è¡Œ**ï¼šåŸºäºæ–‡ä»¶çŠ¶æ€å’Œå¤„ç†ç»“æœçš„æ¡ä»¶æ‰§è¡Œ
- **å¹¶è¡Œä»»åŠ¡**ï¼šæ”¯æŒå¤šä»»åŠ¡å¹¶è¡Œæ‰§è¡Œå’Œä¾èµ–ç®¡ç†
- **é”™è¯¯æ¢å¤**ï¼šè‡ªåŠ¨é‡è¯•å’Œé”™è¯¯æ¢å¤æœºåˆ¶

#### 4.4 é«˜çº§å‘½ä»¤è¡ŒåŠŸèƒ½ (æ–°å¢ ğŸ†•)
- **äº¤äº’å¼é…ç½®**ï¼šå‘å¯¼å¼é…ç½®ç”Ÿæˆå·¥å…·
- **æ¨¡æ¿ç®¡ç†**ï¼šé¢„å®šä¹‰çš„å¤„ç†æ¨¡æ¿å’Œå¿«é€Ÿå¯åŠ¨
- **æ€§èƒ½åˆ†æ**ï¼šå†…ç½®çš„æ€§èƒ½åˆ†æå’Œä¼˜åŒ–å»ºè®®
- **è°ƒè¯•æ¨¡å¼**ï¼šè¯¦ç»†çš„è°ƒè¯•ä¿¡æ¯å’Œä¸­é—´ç»“æœè¾“å‡º
- **æ’ä»¶å‘½ä»¤**ï¼šæ”¯æŒæ’ä»¶æ‰©å±•çš„è‡ªå®šä¹‰å‘½ä»¤
- **è¿œç¨‹æ‰§è¡Œ**ï¼šæ”¯æŒè¿œç¨‹æœåŠ¡å™¨çš„å‘½ä»¤æ‰§è¡Œ

### 5. é…ç½®ç®¡ç†ç³»ç»Ÿ (å·²å®ç° âœ…)

#### 5.1 é…ç½®æ–‡ä»¶ç»“æ„
```json
{
  "llm_config": "å¤šLLMæä¾›å•†é…ç½®",
  "keyword_extraction": "å…³é”®è¯æå–å‚æ•°",
  "medical_synonyms": "åŒ»å­¦åŒä¹‰è¯åº“",
  "chunking": "åˆ†å—ç­–ç•¥é…ç½®",
  "output": "è¾“å‡ºæ ¼å¼é…ç½®"
}
```

#### 5.2 åŠ¨æ€é…ç½®åŠ è½½
- **çƒ­æ›´æ–°**ï¼šæ”¯æŒé…ç½®æ–‡ä»¶çƒ­æ›´æ–°
- **å‚æ•°éªŒè¯**ï¼šé…ç½®å‚æ•°æœ‰æ•ˆæ€§æ£€æŸ¥
- **é»˜è®¤å€¼ç®¡ç†**ï¼šæ™ºèƒ½é»˜è®¤å‚æ•°è®¾ç½®

## åŠŸèƒ½å¢å¼ºå»ºè®®

### 1. é«˜çº§åˆ†å—ç­–ç•¥
- **è¯­ä¹‰ç›¸ä¼¼åº¦åˆ†å—**ï¼šåŸºäºsentence-transformersçš„è¯­ä¹‰ç›¸ä¼¼åº¦åˆ†å—
- **ä¸»é¢˜å»ºæ¨¡åˆ†å—**ï¼šä½¿ç”¨LDAæˆ–BERTè¿›è¡Œä¸»é¢˜è¯†åˆ«åˆ†å—
- **å¤šå±‚çº§åˆ†å—**ï¼šæ”¯æŒç²—ç²’åº¦å’Œç»†ç²’åº¦çš„å¤šå±‚çº§åˆ†å—

### 2. æ™ºèƒ½å…³é”®è¯ä¼˜åŒ–
- **ä¸Šä¸‹æ–‡æ„ŸçŸ¥**ï¼šè€ƒè™‘chunkå‰åæ–‡çš„å…³é”®è¯æå–
- **é‡è¦æ€§æƒé‡**ï¼šä¸ºä¸åŒç±»å‹å…³é”®è¯åˆ†é…æƒé‡
- **åŠ¨æ€æ›´æ–°**ï¼šåŸºäºç”¨æˆ·åé¦ˆåŠ¨æ€æ›´æ–°å…³é”®è¯åº“

### 3. é«˜çº§è´¨é‡è¯„ä¼°
- **è¯­ä¹‰ä¸€è‡´æ€§æ£€æµ‹**ï¼šä½¿ç”¨embeddingæ¨¡å‹æ£€æµ‹chunkå†…è¯­ä¹‰ä¸€è‡´æ€§
- **ä¿¡æ¯å®Œæ•´æ€§è¯„ä¼°**ï¼šè¯„ä¼°é‡è¦ä¿¡æ¯æ˜¯å¦è¢«å®Œæ•´ä¿ç•™
- **å¯è¯»æ€§è¯„åˆ†**ï¼šè¯„ä¼°chunkçš„äººç±»å¯è¯»æ€§

### 4. æ€§èƒ½ä¼˜åŒ–
- **å¹¶è¡Œå¤„ç†**ï¼šå¤šè¿›ç¨‹/å¤šçº¿ç¨‹å¹¶è¡Œå¤„ç†å¤§æ–‡ä»¶
- **ç¼“å­˜æœºåˆ¶**ï¼šæ™ºèƒ½ç¼“å­˜æå–ç»“æœå’Œè¯„ä¼°ç»“æœ
- **å¢é‡å¤„ç†**ï¼šæ”¯æŒå¢é‡æ›´æ–°å’Œå·®å¼‚åŒ–å¤„ç†

### 5. ä»£ç æ“ä½œä¸è„šæœ¬æ”¯æŒ (æ–°å¢ ğŸ†•)

#### 5.1 Pythonè„šæœ¬æ‰§è¡Œå¼•æ“
- **è„šæœ¬ç®¡ç†**ï¼šæ”¯æŒè‡ªå®šä¹‰Pythonè„šæœ¬çš„åŠ è½½å’Œæ‰§è¡Œ
- **å®‰å…¨æ‰§è¡Œ**ï¼šæ²™ç®±ç¯å¢ƒæ‰§è¡Œç”¨æˆ·è„šæœ¬ï¼Œé˜²æ­¢ç³»ç»Ÿé£é™©
- **å‚æ•°ä¼ é€’**ï¼šæ”¯æŒå‘è„šæœ¬ä¼ é€’æ–‡æ¡£è·¯å¾„ã€é…ç½®å‚æ•°ç­‰
- **ç»“æœå›è°ƒ**ï¼šè„šæœ¬æ‰§è¡Œç»“æœè‡ªåŠ¨é›†æˆåˆ°å¤„ç†æµç¨‹

#### 5.2 æ–‡ä»¶æ“ä½œå¢å¼º
- **æ‰¹é‡æ–‡ä»¶å¤„ç†**ï¼šæ”¯æŒç›®å½•éå†å’Œæ‰¹é‡æ–‡ä»¶æ“ä½œ
- **æ–‡ä»¶æ ¼å¼è½¬æ¢**ï¼šMarkdownä¸å…¶ä»–æ ¼å¼çš„ç›¸äº’è½¬æ¢
- **æ–‡ä»¶ç‰ˆæœ¬ç®¡ç†**ï¼šè‡ªåŠ¨å¤‡ä»½å’Œç‰ˆæœ¬æ§åˆ¶
- **æ–‡ä»¶å®Œæ•´æ€§æ£€æŸ¥**ï¼šå¤„ç†å‰åçš„æ–‡ä»¶å®Œæ•´æ€§éªŒè¯

#### 5.3 å‘½ä»¤è¡Œå·¥å…·é›†æˆ
- **ç³»ç»Ÿå‘½ä»¤æ‰§è¡Œ**ï¼šå®‰å…¨çš„ç³»ç»Ÿå‘½ä»¤è°ƒç”¨æ¥å£
- **ç®¡é“æ“ä½œ**ï¼šæ”¯æŒå‘½ä»¤ç®¡é“å’Œæ•°æ®æµå¤„ç†
- **ç¯å¢ƒå˜é‡ç®¡ç†**ï¼šåŠ¨æ€ç¯å¢ƒå˜é‡è®¾ç½®å’Œç®¡ç†
- **æ‰§è¡Œæ—¥å¿—è®°å½•**ï¼šè¯¦ç»†çš„å‘½ä»¤æ‰§è¡Œæ—¥å¿—å’Œé”™è¯¯è¿½è¸ª

#### 5.4 å¼€å‘è€…å‹å¥½æ¥å£
- **æ’ä»¶ç³»ç»Ÿ**ï¼šæ”¯æŒç¬¬ä¸‰æ–¹æ’ä»¶çš„å¼€å‘å’Œé›†æˆ
- **Hookæœºåˆ¶**ï¼šåœ¨å¤„ç†æµç¨‹çš„å…³é”®èŠ‚ç‚¹æä¾›Hookæ¥å£
- **è‡ªå®šä¹‰å¤„ç†å™¨**ï¼šå…è®¸å¼€å‘è€…ç¼–å†™è‡ªå®šä¹‰çš„æ–‡æ¡£å¤„ç†å™¨
- **è°ƒè¯•æ¨¡å¼**ï¼šæä¾›è¯¦ç»†çš„è°ƒè¯•ä¿¡æ¯å’Œä¸­é—´ç»“æœæŸ¥çœ‹

### 6. å¼€å‘è€…APIä¸æ‰©å±•æ¥å£ (æ–°å¢ ğŸ†•)

#### 6.1 RESTful APIè®¾è®¡
```python
# APIç«¯ç‚¹è®¾è®¡ç¤ºä¾‹
@app.post("/api/v1/documents/process")
async def process_document(file: UploadFile, config: ProcessConfig):
    """
    æ–‡æ¡£å¤„ç†API
    åŠŸèƒ½ï¼šæ¥æ”¶æ–‡æ¡£æ–‡ä»¶å¹¶è¿›è¡Œå¤„ç†
    å‚æ•°ï¼šfile (æ–‡æ¡£æ–‡ä»¶), config (å¤„ç†é…ç½®)
    è¿”å›å€¼ï¼šå¤„ç†ç»“æœå’Œä»»åŠ¡ID
    å¼‚å¸¸å¤„ç†ï¼šæ–‡ä»¶æ ¼å¼ä¸æ”¯æŒã€é…ç½®å‚æ•°é”™è¯¯
    """
    pass

@app.get("/api/v1/tasks/{task_id}/status")
async def get_task_status(task_id: str):
    """
    ä»»åŠ¡çŠ¶æ€æŸ¥è¯¢API
    åŠŸèƒ½ï¼šæŸ¥è¯¢å¤„ç†ä»»åŠ¡çš„å½“å‰çŠ¶æ€
    å‚æ•°ï¼štask_id (ä»»åŠ¡ID)
    è¿”å›å€¼ï¼šä»»åŠ¡çŠ¶æ€å’Œè¿›åº¦ä¿¡æ¯
    å¼‚å¸¸å¤„ç†ï¼šä»»åŠ¡ä¸å­˜åœ¨ã€æƒé™ä¸è¶³
    """
    pass

@app.post("/api/v1/scripts/execute")
async def execute_script(script: ScriptRequest):
    """
    è„šæœ¬æ‰§è¡ŒAPI
    åŠŸèƒ½ï¼šæ‰§è¡Œç”¨æˆ·æä¾›çš„Pythonè„šæœ¬
    å‚æ•°ï¼šscript (è„šæœ¬å†…å®¹å’Œå‚æ•°)
    è¿”å›å€¼ï¼šè„šæœ¬æ‰§è¡Œç»“æœ
    å¼‚å¸¸å¤„ç†ï¼šè„šæœ¬è¯­æ³•é”™è¯¯ã€æ‰§è¡Œè¶…æ—¶ã€å®‰å…¨æ£€æŸ¥å¤±è´¥
    """
    pass
```

#### 6.2 SDKå¼€å‘åŒ…
```python
class EmbeddingEnhancerSDK:
    """
    Python SDK
    åŠŸèƒ½ï¼šæä¾›Pythonå¼€å‘è€…å‹å¥½çš„æ¥å£
    å‚æ•°ï¼šapi_base_url, api_key, timeout
    è¿”å›å€¼ï¼šå¤„ç†ç»“æœå¯¹è±¡
    å¼‚å¸¸å¤„ç†ï¼šç½‘ç»œè¿æ¥é”™è¯¯ã€è®¤è¯å¤±è´¥ã€APIé™åˆ¶
    """
    def __init__(self, api_base_url, api_key=None):
        self.api_base_url = api_base_url
        self.api_key = api_key
        self.session = aiohttp.ClientSession()
    
    async def process_document(self, file_path, config=None):
        """å¤„ç†å•ä¸ªæ–‡æ¡£"""
        pass
    
    async def batch_process(self, file_list, config=None):
        """æ‰¹é‡å¤„ç†æ–‡æ¡£"""
        pass
    
    async def get_processing_status(self, task_id):
        """è·å–å¤„ç†çŠ¶æ€"""
        pass
    
    async def execute_custom_script(self, script_content, params=None):
        """æ‰§è¡Œè‡ªå®šä¹‰è„šæœ¬"""
        pass
```

#### 6.3 æ’ä»¶å¼€å‘æ¥å£
```python
class BasePlugin:
    """
    æ’ä»¶åŸºç±»
    åŠŸèƒ½ï¼šå®šä¹‰æ’ä»¶çš„æ ‡å‡†æ¥å£
    å‚æ•°ï¼šplugin_config, logger
    è¿”å›å€¼ï¼šæ’ä»¶æ‰§è¡Œç»“æœ
    å¼‚å¸¸å¤„ç†ï¼šæ’ä»¶åˆå§‹åŒ–å¤±è´¥ã€æ¥å£ä¸å…¼å®¹
    """
    def __init__(self, config: dict):
        self.config = config
        self.name = self.__class__.__name__
        self.version = "1.0.0"
    
    def initialize(self):
        """æ’ä»¶åˆå§‹åŒ–"""
        pass
    
    def process_chunk(self, chunk: str, metadata: dict) -> str:
        """å¤„ç†å•ä¸ªchunk"""
        raise NotImplementedError
    
    def process_document(self, document: str, metadata: dict) -> str:
        """å¤„ç†æ•´ä¸ªæ–‡æ¡£"""
        raise NotImplementedError
    
    def cleanup(self):
        """æ’ä»¶æ¸…ç†"""
        pass

# æ’ä»¶æ³¨å†Œè£…é¥°å™¨
def register_plugin(name: str, version: str = "1.0.0"):
    """
    æ’ä»¶æ³¨å†Œè£…é¥°å™¨
    åŠŸèƒ½ï¼šè‡ªåŠ¨æ³¨å†Œæ’ä»¶åˆ°ç³»ç»Ÿ
    å‚æ•°ï¼šname (æ’ä»¶åç§°), version (ç‰ˆæœ¬å·)
    è¿”å›å€¼ï¼šè£…é¥°åçš„æ’ä»¶ç±»
    å¼‚å¸¸å¤„ç†ï¼šæ’ä»¶åç§°å†²çªã€ç‰ˆæœ¬ä¸å…¼å®¹
    """
    def decorator(plugin_class):
        plugin_class._plugin_name = name
        plugin_class._plugin_version = version
        return plugin_class
    return decorator
```

#### 6.4 Webhookä¸äº‹ä»¶ç³»ç»Ÿ
```python
class EventManager:
    """
    äº‹ä»¶ç®¡ç†å™¨
    åŠŸèƒ½ï¼šç®¡ç†ç³»ç»Ÿäº‹ä»¶çš„å‘å¸ƒå’Œè®¢é˜…
    å‚æ•°ï¼ševent_type, callback, priority
    è¿”å›å€¼ï¼šäº‹ä»¶å¤„ç†ç»“æœ
    å¼‚å¸¸å¤„ç†ï¼šå›è°ƒå‡½æ•°é”™è¯¯ã€äº‹ä»¶å¾ªç¯ä¾èµ–
    """
    def __init__(self):
        self.subscribers = defaultdict(list)
        self.event_history = []
    
    def subscribe(self, event_type: str, callback: callable, priority: int = 0):
        """è®¢é˜…äº‹ä»¶"""
        pass
    
    async def publish(self, event_type: str, data: dict):
        """å‘å¸ƒäº‹ä»¶"""
        pass
    
    def register_webhook(self, url: str, events: list):
        """æ³¨å†ŒWebhook"""
        pass

# æ”¯æŒçš„äº‹ä»¶ç±»å‹
EVENTS = {
    "document.processing.started": "æ–‡æ¡£å¤„ç†å¼€å§‹",
    "document.processing.completed": "æ–‡æ¡£å¤„ç†å®Œæˆ",
    "chunk.created": "Chunkåˆ›å»º",
    "keyword.extracted": "å…³é”®è¯æå–å®Œæˆ",
    "quality.evaluated": "è´¨é‡è¯„ä¼°å®Œæˆ",
    "error.occurred": "é”™è¯¯å‘ç”Ÿ",
    "script.executed": "è„šæœ¬æ‰§è¡Œå®Œæˆ"
}
```

### 7. æ‰©å±•åŠŸèƒ½
- **å¤šæ ¼å¼æ”¯æŒ**ï¼šæ‰©å±•æ”¯æŒPDFã€Wordã€HTMLç­‰æ ¼å¼
- **ç‰ˆæœ¬ç®¡ç†**ï¼šæ–‡æ¡£ç‰ˆæœ¬å¯¹æ¯”å’Œå˜æ›´è¿½è¸ª
- **ç¬¬ä¸‰æ–¹é›†æˆ**ï¼šä¸ä¸»æµæ–‡æ¡£ç®¡ç†ç³»ç»Ÿé›†æˆ

## å‰ç«¯ç•Œé¢è®¾è®¡

### 1. ä¸»ç•Œé¢å¸ƒå±€
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Embeddingå¢å¼ºé¡¹ç›®                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“ æ–‡ä»¶ç®¡ç†    âš™ï¸ é…ç½®è®¾ç½®    ğŸ“Š è´¨é‡è¯„ä¼°    ğŸ“‹ å¤„ç†å†å²    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  è¾“å…¥ç›®å½•: [To_be_processed/          ] [æµè§ˆ]             â”‚
â”‚  è¾“å‡ºç›®å½•: [processed_output/         ] [æµè§ˆ]             â”‚
â”‚                                                             â”‚
â”‚  åˆ†å—ç­–ç•¥: â—‹ Tokenæ•°é‡ â—‹ è¯­ä¹‰æ®µè½ â—‹ æ··åˆç­–ç•¥               â”‚
â”‚  Tokenå¤§å°: [1024        ] é‡å æ¯”ä¾‹: [10%    ]             â”‚
â”‚                                                             â”‚
â”‚  å…³é”®è¯æå–: â˜‘ï¸ å¯ç”¨  æ–¹å¼: â—‹ æœ¬åœ°ä¼˜å…ˆ â—‹ LLMä¼˜å…ˆ          â”‚
â”‚  æœ€å¤§å…³é”®è¯: [8          ] åŒä¹‰è¯æ‰©å±•: â˜‘ï¸ å¯ç”¨              â”‚
â”‚                                                             â”‚
â”‚  [å¼€å§‹å¤„ç†] [é¢„è§ˆè®¾ç½®] [é‡ç½®é…ç½®] [å¯¼å‡ºé…ç½®]                â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. å¤„ç†è¿›åº¦ç•Œé¢
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      å¤„ç†è¿›åº¦                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  å½“å‰æ–‡ä»¶: æ¶æ€§è‚¿ç˜¤å¹¶å‘ç—‡æ²»ç–—.md                            â”‚
â”‚  æ€»ä½“è¿›åº¦: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 75%             â”‚
â”‚                                                             â”‚
â”‚  âœ… æ–‡æ¡£è§£æå®Œæˆ                                            â”‚
â”‚  âœ… åˆ†å—å¤„ç†å®Œæˆ (432ä¸ªchunk)                               â”‚
â”‚  ğŸ”„ å…³é”®è¯æå–ä¸­... (328/432)                               â”‚
â”‚  â³ è´¨é‡è¯„ä¼°ç­‰å¾…ä¸­                                          â”‚
â”‚                                                             â”‚
â”‚  å¤„ç†æ—¶é—´: 00:02:35  é¢„è®¡å‰©ä½™: 00:00:45                     â”‚
â”‚                                                             â”‚
â”‚  [æš‚åœ] [å–æ¶ˆ] [æŸ¥çœ‹æ—¥å¿—]                                   â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. è´¨é‡è¯„ä¼°æŠ¥å‘Šç•Œé¢
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    è´¨é‡è¯„ä¼°æŠ¥å‘Š                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  ğŸ“Š æ€»ä½“è¯„åˆ†: 98.8/100  ğŸ¯ ä¼˜ç§€                             â”‚
â”‚                                                             â”‚
â”‚  ğŸ“ˆ Chunkç»Ÿè®¡:                                              â”‚
â”‚     æ€»æ•°é‡: 432ä¸ª  å¹³å‡å¤§å°: 572å­—ç¬¦                        â”‚
â”‚     å¤§å°åˆ†å¸ƒ: [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100%   â”‚
â”‚                                                             â”‚
â”‚  ğŸ¯ è´¨é‡æŒ‡æ ‡:                                               â”‚
â”‚     è¯­ä¹‰å®Œæ•´æ€§: 100.0/100  æ ¼å¼æ­£ç¡®æ€§: 97.6/100             â”‚
â”‚     å…³é”®è¯è¦†ç›–: 95.4%      å¤„ç†æˆåŠŸç‡: 100%                 â”‚
â”‚                                                             â”‚
â”‚  ğŸ’¡ ä¼˜åŒ–å»ºè®®:                                               â”‚
â”‚     â€¢ å»ºè®®å¢åŠ chunkç›®æ ‡å¤§å°åˆ°800å­—ç¬¦                        â”‚
â”‚     â€¢ 47.9%çš„chunkåå°ï¼Œå»ºè®®åˆå¹¶ç›¸é‚»å°chunk                 â”‚
â”‚                                                             â”‚
â”‚  [è¯¦ç»†æŠ¥å‘Š] [å¯¼å‡ºæŠ¥å‘Š] [åº”ç”¨å»ºè®®] [é‡æ–°å¤„ç†]                â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## æŠ€æœ¯å®ç°æ–¹æ¡ˆ

### 1. æŠ€æœ¯æ ˆé€‰æ‹©
- **åç«¯**: Python 3.8+, FastAPI, asyncio
- **å‰ç«¯**: HTML5, CSS3, JavaScript (Vanilla/Vue.js)
- **æ•°æ®å¤„ç†**: pandas, numpy, scikit-learn
- **NLP**: jieba, transformers, sentence-transformers
- **é…ç½®**: JSON, YAMLæ”¯æŒ
- **æ—¥å¿—**: logging, structlog
- **è„šæœ¬æ‰§è¡Œ**: subprocess, multiprocessing, threading
- **æ–‡ä»¶å¤„ç†**: pathlib, shutil, watchdog
- **å®‰å…¨æ²™ç®±**: RestrictedPython, docker (å¯é€‰)

### 2. æ€§èƒ½ä¼˜åŒ–ç­–ç•¥
- **å¼‚æ­¥å¤„ç†**: ä½¿ç”¨asyncioè¿›è¡ŒI/Oå¯†é›†å‹æ“ä½œ
- **å¹¶è¡Œè®¡ç®—**: multiprocessingå¤„ç†CPUå¯†é›†å‹ä»»åŠ¡
- **å†…å­˜ç®¡ç†**: å¤§æ–‡ä»¶æµå¼å¤„ç†ï¼Œé¿å…å†…å­˜æº¢å‡º
- **ç¼“å­˜ç­–ç•¥**: LRUç¼“å­˜çƒ­ç‚¹æ•°æ®å’Œè®¡ç®—ç»“æœ

### 3. é”™è¯¯å¤„ç†ä¸æ—¥å¿—
- **åˆ†çº§æ—¥å¿—**: DEBUG, INFO, WARNING, ERROR, CRITICAL
- **ç»“æ„åŒ–æ—¥å¿—**: JSONæ ¼å¼ä¾¿äºåˆ†æå’Œç›‘æ§
- **å¼‚å¸¸æ•è·**: å…¨å±€å¼‚å¸¸å¤„ç†å’Œä¼˜é›…é™çº§
- **ç”¨æˆ·å‹å¥½**: é”™è¯¯ä¿¡æ¯æœ¬åœ°åŒ–å’Œè§£å†³å»ºè®®

### 4. ä»£ç æ“ä½œä¸è„šæœ¬æ‰§è¡ŒæŠ€æœ¯æ–¹æ¡ˆ

#### 4.1 Pythonè„šæœ¬æ‰§è¡Œå¼•æ“
```python
class ScriptExecutor:
    """
    Pythonè„šæœ¬å®‰å…¨æ‰§è¡Œå¼•æ“
    åŠŸèƒ½ï¼šæä¾›å®‰å…¨çš„Pythonè„šæœ¬æ‰§è¡Œç¯å¢ƒ
    å‚æ•°ï¼šscript_path, params, timeout, sandbox_mode
    è¿”å›å€¼ï¼šæ‰§è¡Œç»“æœå’ŒçŠ¶æ€ä¿¡æ¯
    å¼‚å¸¸å¤„ç†ï¼šè„šæœ¬æ‰§è¡Œè¶…æ—¶ã€è¯­æ³•é”™è¯¯ã€è¿è¡Œæ—¶é”™è¯¯
    """
    def __init__(self, sandbox_mode=True, timeout=300):
        self.sandbox_mode = sandbox_mode
        self.timeout = timeout
        self.allowed_modules = ['os', 'sys', 'json', 'pathlib', 're']
    
    async def execute_script(self, script_path, params=None):
        """å¼‚æ­¥æ‰§è¡ŒPythonè„šæœ¬"""
        pass
    
    def validate_script(self, script_content):
        """éªŒè¯è„šæœ¬å®‰å…¨æ€§"""
        pass
```

#### 4.2 æ–‡ä»¶æ“ä½œç®¡ç†å™¨
```python
class FileOperationManager:
    """
    æ–‡ä»¶æ“ä½œç®¡ç†å™¨
    åŠŸèƒ½ï¼šæä¾›å®‰å…¨çš„æ–‡ä»¶æ“ä½œæ¥å£
    å‚æ•°ï¼šbase_path, backup_enabled, version_control
    è¿”å›å€¼ï¼šæ“ä½œç»“æœå’Œæ–‡ä»¶çŠ¶æ€
    å¼‚å¸¸å¤„ç†ï¼šæ–‡ä»¶æƒé™é”™è¯¯ã€ç£ç›˜ç©ºé—´ä¸è¶³ã€æ–‡ä»¶é”å®š
    """
    def __init__(self, base_path, backup_enabled=True):
        self.base_path = Path(base_path)
        self.backup_enabled = backup_enabled
        self.file_watcher = None
    
    def batch_process_files(self, pattern, processor_func):
        """æ‰¹é‡å¤„ç†æ–‡ä»¶"""
        pass
    
    def create_backup(self, file_path):
        """åˆ›å»ºæ–‡ä»¶å¤‡ä»½"""
        pass
    
    def verify_file_integrity(self, file_path):
        """éªŒè¯æ–‡ä»¶å®Œæ•´æ€§"""
        pass
```

#### 4.3 å‘½ä»¤è¡Œå·¥å…·é›†æˆ
```python
class CommandLineInterface:
    """
    å‘½ä»¤è¡Œå·¥å…·é›†æˆæ¥å£
    åŠŸèƒ½ï¼šå®‰å…¨æ‰§è¡Œç³»ç»Ÿå‘½ä»¤å’Œç®¡ç†æ‰§è¡Œç¯å¢ƒ
    å‚æ•°ï¼šcommand, args, env_vars, working_dir
    è¿”å›å€¼ï¼šå‘½ä»¤æ‰§è¡Œç»“æœå’ŒçŠ¶æ€ç 
    å¼‚å¸¸å¤„ç†ï¼šå‘½ä»¤ä¸å­˜åœ¨ã€æƒé™ä¸è¶³ã€æ‰§è¡Œè¶…æ—¶
    """
    def __init__(self, allowed_commands=None):
        self.allowed_commands = allowed_commands or []
        self.execution_history = []
    
    async def execute_command(self, command, args=None, env_vars=None):
        """å¼‚æ­¥æ‰§è¡Œç³»ç»Ÿå‘½ä»¤"""
        pass
    
    def create_pipeline(self, commands):
        """åˆ›å»ºå‘½ä»¤ç®¡é“"""
        pass
    
    def monitor_execution(self, process):
        """ç›‘æ§å‘½ä»¤æ‰§è¡ŒçŠ¶æ€"""
        pass
```

#### 4.4 æ’ä»¶ç³»ç»Ÿæ¶æ„
```python
class PluginManager:
    """
    æ’ä»¶ç®¡ç†ç³»ç»Ÿ
    åŠŸèƒ½ï¼šç®¡ç†ç¬¬ä¸‰æ–¹æ’ä»¶çš„åŠ è½½ã€æ‰§è¡Œå’Œç”Ÿå‘½å‘¨æœŸ
    å‚æ•°ï¼šplugin_dir, plugin_config, security_level
    è¿”å›å€¼ï¼šæ’ä»¶æ‰§è¡Œç»“æœå’ŒçŠ¶æ€ä¿¡æ¯
    å¼‚å¸¸å¤„ç†ï¼šæ’ä»¶åŠ è½½å¤±è´¥ã€æ¥å£ä¸å…¼å®¹ã€å®‰å…¨æ£€æŸ¥å¤±è´¥
    """
    def __init__(self, plugin_dir="plugins/"):
        self.plugin_dir = Path(plugin_dir)
        self.loaded_plugins = {}
        self.hooks = defaultdict(list)
    
    def load_plugin(self, plugin_name):
        """åŠ¨æ€åŠ è½½æ’ä»¶"""
        pass
    
    def register_hook(self, hook_name, callback):
        """æ³¨å†ŒHookå›è°ƒ"""
        pass
    
    def execute_hooks(self, hook_name, *args, **kwargs):
        """æ‰§è¡ŒHookå›è°ƒ"""
        pass
```

### 5. éƒ¨ç½²ä¸è¿ç»´
- **å®¹å™¨åŒ–**: Dockeræ”¯æŒä¾¿äºéƒ¨ç½²
- **é…ç½®ç®¡ç†**: ç¯å¢ƒå˜é‡å’Œé…ç½®æ–‡ä»¶åˆ†ç¦»
- **å¥åº·æ£€æŸ¥**: APIå¥åº·æ£€æŸ¥ç«¯ç‚¹
- **ç›‘æ§æŒ‡æ ‡**: å¤„ç†æ€§èƒ½å’Œç³»ç»Ÿèµ„æºç›‘æ§

## æµ‹è¯•ç­–ç•¥

### 1. å•å…ƒæµ‹è¯•
- **æ¨¡å—æµ‹è¯•**: æ¯ä¸ªåŠŸèƒ½æ¨¡å—çš„ç‹¬ç«‹æµ‹è¯•
- **è¾¹ç•Œæµ‹è¯•**: æç«¯æƒ…å†µå’Œè¾¹ç•Œæ¡ä»¶æµ‹è¯•
- **æ€§èƒ½æµ‹è¯•**: å…³é”®ç®—æ³•çš„æ€§èƒ½åŸºå‡†æµ‹è¯•

### 2. é›†æˆæµ‹è¯•
- **ç«¯åˆ°ç«¯æµ‹è¯•**: å®Œæ•´å¤„ç†æµç¨‹æµ‹è¯•
- **æ¥å£æµ‹è¯•**: æ¨¡å—é—´æ¥å£å…¼å®¹æ€§æµ‹è¯•
- **æ•°æ®éªŒè¯**: è¾“å…¥è¾“å‡ºæ•°æ®ä¸€è‡´æ€§æµ‹è¯•

### 3. ç”¨æˆ·éªŒæ”¶æµ‹è¯•
- **åŠŸèƒ½éªŒæ”¶**: æ ¸å¿ƒåŠŸèƒ½å®Œæ•´æ€§éªŒè¯
- **æ€§èƒ½éªŒæ”¶**: å¤„ç†é€Ÿåº¦å’Œèµ„æºæ¶ˆè€—éªŒè¯
- **æ˜“ç”¨æ€§æµ‹è¯•**: ç”¨æˆ·ç•Œé¢å’Œäº¤äº’ä½“éªŒæµ‹è¯•

## é¡¹ç›®é‡Œç¨‹ç¢‘

### Phase 1: æ ¸å¿ƒåŠŸèƒ½å®Œå–„ (å·²å®Œæˆ âœ…)
- âœ… æ–‡æ¡£åˆ†å—ç­–ç•¥å®ç°
- âœ… å…³é”®è¯æå–ç³»ç»Ÿ
- âœ… åŒ»å­¦çŸ¥è¯†åº“æ„å»º
- âœ… è´¨é‡è¯„ä¼°ç³»ç»Ÿ
- âœ… åŸºç¡€é…ç½®ç®¡ç†

### Phase 2: ç•Œé¢å¼€å‘ (è¿›è¡Œä¸­ ğŸ”„)
- ğŸ”„ Webå‰ç«¯ç•Œé¢å¼€å‘
- ğŸ”„ å‘½ä»¤è¡Œç•Œé¢å®Œå–„
- ğŸ”„ ç”¨æˆ·äº¤äº’ä¼˜åŒ–
- ğŸ”„ å®æ—¶è¿›åº¦æ˜¾ç¤º

### Phase 3: åŠŸèƒ½å¢å¼º (è®¡åˆ’ä¸­ ğŸ“‹)
- ğŸ“‹ é«˜çº§åˆ†å—ç­–ç•¥
- ğŸ“‹ æ™ºèƒ½å…³é”®è¯ä¼˜åŒ–
- ğŸ“‹ æ€§èƒ½ä¼˜åŒ–
- ğŸ“‹ å¤šæ ¼å¼æ”¯æŒ

### Phase 4: éƒ¨ç½²è¿ç»´ (è®¡åˆ’ä¸­ ğŸ“‹)
- ğŸ“‹ å®¹å™¨åŒ–éƒ¨ç½²
- ğŸ“‹ APIæ¥å£å¼€å‘
- ğŸ“‹ ç›‘æ§å‘Šè­¦ç³»ç»Ÿ
- ğŸ“‹ æ–‡æ¡£å’ŒåŸ¹è®­

## é£é™©è¯„ä¼°ä¸åº”å¯¹

### 1. æŠ€æœ¯é£é™©
- **LLM APIé™åˆ¶**: å®ç°æœ¬åœ°åŒ–å¤‡ç”¨æ–¹æ¡ˆ
- **å¤§æ–‡ä»¶å¤„ç†**: æµå¼å¤„ç†å’Œåˆ†ç‰‡ç­–ç•¥
- **æ€§èƒ½ç“¶é¢ˆ**: å¹¶è¡Œå¤„ç†å’Œç¼“å­˜ä¼˜åŒ–

### 2. ä¸šåŠ¡é£é™©
- **åŒ»å­¦æœ¯è¯­å‡†ç¡®æ€§**: ä¸“ä¸šåŒ»å­¦è¯å…¸éªŒè¯
- **ç”¨æˆ·æ¥å—åº¦**: æ¸è¿›å¼åŠŸèƒ½å‘å¸ƒ
- **æ•°æ®å®‰å…¨**: æœ¬åœ°å¤„ç†ä¼˜å…ˆï¼Œæ•°æ®åŠ å¯†

### 3. è¿ç»´é£é™©
- **ç³»ç»Ÿç¨³å®šæ€§**: å®Œå–„çš„é”™è¯¯å¤„ç†å’Œç›‘æ§
- **æ‰©å±•æ€§**: æ¨¡å—åŒ–è®¾è®¡ä¾¿äºæ‰©å±•
- **ç»´æŠ¤æˆæœ¬**: è¯¦ç»†æ–‡æ¡£å’Œè‡ªåŠ¨åŒ–æµ‹è¯•